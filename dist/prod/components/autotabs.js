"use strict";(()=>{var a="auto-tabs",o="auto-tabs-loop",u="pause-on-hover",h="--auto-tabs-duration";function l(){class s{constructor(e){this.container=e,this.duration=this.getDuration(),this.shouldLoop=e.hasAttribute(o),this.pauseOnHover=e.hasAttribute(u),this.startTime=null,this.pausedTime=null,this.rafId=null,this.isPaused=!1,this.bindEvents(),this.resetAnimation()}getDuration(){let e=this.container;for(;e;){let t=getComputedStyle(e).getPropertyValue(h);if(t&&t!=="")return parseFloat(t);e=e.parentElement}return 1}bindEvents(){this.pauseOnHover&&(this.container.addEventListener("mouseenter",()=>this.pause()),this.container.addEventListener("mouseleave",()=>this.resume())),this.container.querySelectorAll(":scope > *").forEach(t=>{t.addEventListener("click",()=>this.resetAnimation())}),new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting?this.resume():this.pause()})},{threshold:.1}).observe(this.container)}animate(e){if(this.startTime||(this.startTime=e),this.isPaused)return;let t=e-this.startTime,i=Math.min(t/(this.duration*1e3),1);this.updateCurrentTab(i),i<1?this.rafId=requestAnimationFrame(this.animate.bind(this)):this.switchTab()}updateCurrentTab(e){let t=this.container.querySelector(":scope > .w--current");t&&t.style.setProperty("--auto-tabs-progress",`${e*100}%`)}switchTab(){let e=this.container.querySelector(":scope > .w--current");if(!e)return;let t=e.nextElementSibling;!t&&this.shouldLoop&&(t=this.container.querySelector(":scope > *:first-child")),t&&(t.click(),this.resetAnimation())}resetAnimation(){this.startTime=null,this.pausedTime=null,this.rafId!==null&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame(this.animate.bind(this))}pause(){this.isPaused||(this.isPaused=!0,this.pausedTime=performance.now(),this.rafId!==null&&cancelAnimationFrame(this.rafId))}resume(){this.isPaused&&(this.isPaused=!1,this.pausedTime&&this.startTime&&(this.startTime+=performance.now()-this.pausedTime),this.rafId=requestAnimationFrame(this.animate.bind(this)))}}function n(){document.querySelectorAll(`[${a}]`).forEach(e=>{new s(e)})}return{init:n}}})();
